[toc]

# 2 $Python$与$Jupyter Notebook$基础
## 2.4 认识$numpy$与$pandas$
- `numpy`主要使用`array`类（实际上是`ndarray`）来存放数据。它的矩阵计算功能十分强大。
- ```python
  >>> import numpy as np
  ```
- `pandas`主要使用`DataFrame`类，这个类专门用于管理数据。
- ```python
  >>> import pandas as pd
  ```
- 数组
- ```python
  >>> sample_array = np.array([1, 2, 3, 4, 5])
  >>> sample_array
  array([1, 2, 3, 4, 5])
  
  >>> sample_array + 2
  array([3, 4, 5, 6, 7])
  
  >>> sample_array * 2
  array([ 2,  4,  6,  8, 10])
  
  >>> sample_array_2 = np.array([[1, 2, 3, 4, 5],
                                 [6, 7, 8, 9, 10]])
  >>> sample_array_2
  array([[ 1,  2,  3,  4,  5],
         [ 6,  7,  8,  9, 10]])
  
  >>> sample_array_2.shape
  (2, 5)
  ```
- 生成等差数列
- ```python
  >>> np.arange(start=0.1, stop=0.6, step=0.2)
  array([0.1, 0.3, 0.5])
  ```
- 多种生成数组的方式
- ```python
  >>> np.tile("A", 5)
  array(['A', 'A', 'A', 'A', 'A'], dtype='<U1')
  
  >>> np.zeros(4)
  array([0., 0., 0., 0.])
  
  >>> np.ones(3)
  array([1., 1., 1.])
  ```
- 连接数据帧
- ```python
  >>> df_1 = pd.DataFrame({'col1': np.array([1, 2, 3]),
                           'col2': np.array(['A', 'B', 'C'])})
  >>> df_2 = pd.DataFrame({'col1': np.array([4, 5, 6]),
                           'col2': np.array(['D', 'E', 'F'])})
  >>> print(pd.concat([df_1, df_2]))
     col1 col2
  0     1    A
  1     2    B
  2     3    C
  0     4    D
  1     5    E
  2     6    F
  
  >>> print(pd.concat([df_1, df_2], axis=1))
     col1 col2  col1 col2
  0     1    A     4    D
  1     2    B     5    E
  2     3    C     6    F
  ```
- 删除指定的列
- ```python
  >>> sample_df = pd.DataFrame({'col1': np.array([1, 2, 3, 4, 5]),
                                'col2': np.array([2, 4, 6, 8, 10]),
                                'col3': np.array(['A', 'B', 'C', 'D', 'E'])})
  >>> print(sample_df.drop('col1', axis=1))
     col2 col3
  0     2    A
  1     4    B
  2     6    C
  3     8    D
  4    10    E
  ```
- 数据帧的提取
- ```python
  >>> print(sample_df.query('index == 2'))
     col1  col2 col3
  2     3     6    C
  
  >>> print(sample_df.query('col3 == "A" | col3 == "D"'))
     col1  col2 col3
  0     1     2    A
  3     4     8    D
  
  >>> print(sample_df.query('col3 == "A"')[['col2', 'col3']])
     col2 col3
  0     2    A
  ```
- 序列
- ```python
  >>> type(sample_df)
  pandas.core.frame.DataFrame
  
  >>> type(sample_df['col1'])
  pandas.core.series.Series
  
  >>> type(sample_df['col1'].values)
  numpy.ndarray
  ```

# 3 使用$Python$进行数据分析
## 3.1 使用$Python$进行描述统计：单变量
- `scipy`中包含用于“计算统计量等基础的数据分析工作”的函数。
- ```python
  >>> import scipy as sp
  ```
- 总和
- ```python
  >>> fish_data = np.array([2,3,3,4,4,4,4,5,5,6])
  >>> fish_data
  array([2, 3, 3, 4, 4, 4, 4, 5, 5, 6])
  
  >>> sp.sum(fish_data)
  40
  ```
- 均值（期望值）
- ```python
  >>> sp.mean(fish_data)
  4.0
  ```
- 样本方差
- ```python
  >>> sp.var(fish_data)
  1.2
  ```
- 无偏方差
- ```python
  >>> sp.var(fish_data, ddof=1)
  1.333
  ```
- 标准差
- ```python
  >>> sp.std(fish_data, ddof=1)
  1.155
  ```
- 标准化
- ```python
  >>> mu = sp.mean(fish_data)
  >>> sigma = sp.std(fish_data, ddof=1)
  >>> standard = (fish_data - mu) / sigma
  >>> standard
  array([-1.732, -0.866, -0.866,  0.   ,  0.   ,  0.   ,  0.   ,  0.866, 0.866,  1.732])
  
  >>> sp.mean(standard)
  0.0
  
  >>> sp.std(standard, ddof=1)
  1.0
  ```
- 最大值
- ```python
  >>> sp.amax(fish_data)
  6
  ```
- 最小值
- ```python
  >>> sp.amin(fish_data)
  2
  ```
- 中位数
- ```python
  >>> sp.median(fish_data)
  4.0
  ```
- 四分位数
- ```python
  >>> from scipy import stats
  
  >>> fish_data_3 = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9])
  >>> stats.scoreatpercentile(fish_data_3, 25)
  3.0
  
  >>> stats.scoreatpercentile(fish_data_3, 75)
  7.0
  ```

## 3.2 使用$Python$进行描述统计：多变量
- 协方差
- ```python
  >>> cov_data = pd.DataFrame({'x': np.array([18.5, 18.7, 19.1, 19.7, 21.5, 21.7, 21.8, 22.0, 23.4, 23.8]),
                               'y': np.array([34, 39, 41, 38, 45, 41, 52, 44, 44, 49])})
  >>> print(cov_data)
        x   y
  0  18.5  34
  1  18.7  39
  2  19.1  41
  3  19.7  38
  4  21.5  45
  5  21.7  41
  6  21.8  52
  7  22.0  44
  8  23.4  44
  9  23.8  49
  
  >>> x = cov_data['x']
  >>> y = cov_data['y']
  >>> sp.cov(x, y, ddof = 0)
  array([[ 3.282,  6.906],
         [ 6.906, 25.21 ]])
  ```
- 皮尔逊积矩相关系数
- ```python
  >>> sp.corrcoef(x, y)
  array([[1.   , 0.759],
         [0.759, 1.   ]])
  ```

## 3.3 基于$matplotlib$、$seaborn$的数据可视化
- ```python
  >>> from matplotlib import pyplot as plt
  >>> import seaborn as sns
  >>> sns.set()
  >>> %matplotlib inline
  ```

## 3.4 用$Python$模拟抽样
- 抽样
- ```python
  >>> fish_5 = np.array([2, 3, 4, 5, 6])
  >>> fish_5
  array([2, 3, 4, 5, 6])
  
  >>> np.random.seed(1)
  >>> np.random.choice(fish_5, size=3, replace=False)
  array([4, 3, 6])
  ```
- 生成服从正态分布的随机数
- ```python
  stats.norm.rvs(loc=均值, scale=标准差, size=样本容量)
  ```

## 3.6 正态分布及其应用
- 累积分布函数
- ```python
  >>> stats.norm.cdf(loc=4, scale=0.8, x=3)
  0.106
  ```

## 3.7 参数估计
## 3.8 假设检验
## 3.9 均值差的检验
## 3.10 列联表检验
## 3.11 检验结果的解读

# 4 统计模型基础
## 4.1 统计模型
## 4.2 建模方法
## 4.3 数据表示与模型名称
## 4.4 参数估计：最大似然估计
## 4.5 参数估计：最小化损失
## 4.6 预测精度的评估与变量选择

# 5 正态线性模型
## 5.1 含有单个连续型解释变量的模型（一元回归）
## 5.2 方差分析
## 5.3 含有多个解释变量的模型

# 6 广义线性模型
## 6.1 各种概率分布
## 6.2 广义线性模型基础
## 6.3 $logistic$回归
## 6.4 广义线性模型的评估
## 6.5 泊松回归

# 7 统计学与机器学习
## 7.1 机器学习基础
## 7.2 正则化、$Ridge$回归与$Lasso$回归
## 7.3 $Python$中的$Ridge$回归与$Lasso$回归
## 7.4 线性模型与神经网络
## 7.5 扩展内容